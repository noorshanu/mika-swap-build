{"version":3,"file":"static/js/317.e28c658a.chunk.js","mappings":"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","sources":["components/Badge/RangeBadge.tsx","components/HoverInlineText/index.tsx","components/PositionListItem/index.tsx","hooks/useIsTickAtLimit.ts","hooks/usePools.ts","hooks/useV3Positions.ts","pages/Pool/styled.tsx","utils/unwrappedToken.ts"],"sourcesContent":["import { Trans } from '@lingui/macro'\r\nimport { AlertTriangle, Slash } from 'react-feather'\r\nimport styled, { useTheme } from 'styled-components'\r\n\r\nimport { MouseoverTooltip } from '../../components/Tooltip'\r\n\r\nconst BadgeWrapper = styled.div`\r\n  font-size: 14px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst BadgeText = styled.div`\r\n  font-weight: 535;\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  margin-right: 8px;\r\n`\r\n\r\nconst ActiveDot = styled.span`\r\n  background-color: ${({ theme }) => theme.success};\r\n  border-radius: 50%;\r\n  height: 8px;\r\n  width: 8px;\r\n`\r\n\r\nconst LabelText = styled.div<{ color: string }>`\r\n  align-items: center;\r\n  color: ${({ color }) => color};\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n`\r\n\r\nexport default function RangeBadge({ removed, inRange }: { removed?: boolean; inRange?: boolean }) {\r\n  const theme = useTheme()\r\n  return (\r\n    <BadgeWrapper>\r\n      {removed ? (\r\n        <MouseoverTooltip text={<Trans>Your position has 0 liquidity, and is not earning fees.</Trans>}>\r\n          <LabelText color={theme.neutral2}>\r\n            <BadgeText>\r\n              <Trans>Closed</Trans>\r\n            </BadgeText>\r\n            <Slash width={12} height={12} />\r\n          </LabelText>\r\n        </MouseoverTooltip>\r\n      ) : inRange ? (\r\n        <MouseoverTooltip\r\n          text={\r\n            <Trans>\r\n              The price of this pool is within your selected range. Your position is currently earning fees.\r\n            </Trans>\r\n          }\r\n        >\r\n          <LabelText color={theme.success}>\r\n            <BadgeText>\r\n              <Trans>In range</Trans>\r\n            </BadgeText>\r\n            <ActiveDot />\r\n          </LabelText>\r\n        </MouseoverTooltip>\r\n      ) : (\r\n        <MouseoverTooltip\r\n          text={\r\n            <Trans>\r\n              The price of this pool is outside of your selected range. Your position is not currently earning fees.\r\n            </Trans>\r\n          }\r\n        >\r\n          <LabelText color={theme.deprecated_accentWarning}>\r\n            <BadgeText>\r\n              <Trans>Out of range</Trans>\r\n            </BadgeText>\r\n            <AlertTriangle width={12} height={12} />\r\n          </LabelText>\r\n        </MouseoverTooltip>\r\n      )}\r\n    </BadgeWrapper>\r\n  )\r\n}\r\n","import Tooltip from 'components/Tooltip'\r\nimport { useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst TextWrapper = styled.span<{\r\n  margin: boolean\r\n  link?: boolean\r\n  fontSize?: string\r\n  adjustSize?: boolean\r\n  textColor?: string\r\n}>`\r\n  margin-left: ${({ margin }) => margin && '4px'};\r\n  font-size: ${({ fontSize }) => fontSize ?? 'inherit'};\r\n\r\n  @media screen and (max-width: 600px) {\r\n    font-size: ${({ adjustSize }) => adjustSize && '12px'};\r\n  }\r\n`\r\n\r\nconst HoverInlineText = ({\r\n  text,\r\n  maxCharacters = 20,\r\n  margin = false,\r\n  adjustSize = false,\r\n  fontSize,\r\n  textColor,\r\n  link,\r\n  ...rest\r\n}: {\r\n  text?: string\r\n  maxCharacters?: number\r\n  margin?: boolean\r\n  adjustSize?: boolean\r\n  fontSize?: string\r\n  textColor?: string\r\n  link?: boolean\r\n}) => {\r\n  const [showHover, setShowHover] = useState(false)\r\n\r\n  if (!text) {\r\n    return <span />\r\n  }\r\n\r\n  if (text.length > maxCharacters) {\r\n    return (\r\n      <Tooltip text={text} show={showHover}>\r\n        <TextWrapper\r\n          onMouseEnter={() => setShowHover(true)}\r\n          onMouseLeave={() => setShowHover(false)}\r\n          margin={margin}\r\n          adjustSize={adjustSize}\r\n          textColor={textColor}\r\n          link={link}\r\n          fontSize={fontSize}\r\n          {...rest}\r\n        >\r\n          {' ' + text.slice(0, maxCharacters - 1) + '...'}\r\n        </TextWrapper>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <TextWrapper\r\n      margin={margin}\r\n      adjustSize={adjustSize}\r\n      link={link}\r\n      fontSize={fontSize}\r\n      textColor={textColor}\r\n      {...rest}\r\n    >\r\n      {text}\r\n    </TextWrapper>\r\n  )\r\n}\r\n\r\nexport default HoverInlineText\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { Trans } from '@lingui/macro'\r\nimport { Percent, Price, Token } from '@uniswap/sdk-core'\r\nimport { Position } from '@uniswap/v3-sdk'\r\nimport RangeBadge from 'components/Badge/RangeBadge'\r\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\r\nimport HoverInlineText from 'components/HoverInlineText'\r\nimport Loader from 'components/Icons/LoadingSpinner'\r\nimport { RowBetween } from 'components/Row'\r\nimport { useToken } from 'hooks/Tokens'\r\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit'\r\nimport { usePool } from 'hooks/usePools'\r\nimport { useMemo } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Bound } from 'state/mint/v3/actions'\r\nimport styled from 'styled-components'\r\nimport { MEDIA_WIDTHS } from 'theme'\r\nimport { HideSmall, SmallOnly, ThemedText } from 'theme/components'\r\nimport { useFormatter } from 'utils/formatNumbers'\r\nimport { unwrappedToken } from 'utils/unwrappedToken'\r\n\r\nimport { DAI, USDC_MAINNET, USDT, WBTC, WRAPPED_NATIVE_CURRENCY } from '../../constants/tokens'\r\n\r\nconst LinkRow = styled(Link)`\r\n  align-items: center;\r\n  display: flex;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  color: ${({ theme }) => theme.neutral1};\r\n  padding: 16px;\r\n  text-decoration: none;\r\n  font-weight: 535;\r\n\r\n  & > div:not(:first-child) {\r\n    text-align: center;\r\n  }\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.deprecated_hoverDefault};\r\n  }\r\n\r\n  @media screen and (min-width: ${MEDIA_WIDTHS.deprecated_upToSmall}px) {\r\n    /* flex-direction: row; */\r\n  }\r\n\r\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\r\n    flex-direction: column;\r\n    row-gap: 8px;\r\n  `};\r\n`\r\n\r\nconst DataLineItem = styled.div`\r\n  font-size: 14px;\r\n`\r\n\r\nconst RangeLineItem = styled(DataLineItem)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-top: 4px;\r\n  width: 100%;\r\n`\r\n\r\nconst DoubleArrow = styled.span`\r\n  font-size: 12px;\r\n  margin: 0 2px;\r\n  color: ${({ theme }) => theme.neutral1};\r\n`\r\n\r\nconst RangeText = styled(ThemedText.BodySmall)`\r\n  font-size: 14px !important;\r\n  word-break: break-word;\r\n  padding: 0.25rem 0.25rem;\r\n  border-radius: 8px;\r\n`\r\n\r\nconst FeeTierText = styled(ThemedText.UtilityBadge)`\r\n  font-size: 16px !important;\r\n  margin-left: 8px !important;\r\n  color: ${({ theme }) => theme.neutral3};\r\n`\r\nconst ExtentsText = styled(ThemedText.BodySmall)`\r\n  color: ${({ theme }) => theme.neutral2};\r\n  display: inline-block;\r\n  line-height: 16px;\r\n  margin-right: 4px !important;\r\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nconst PrimaryPositionIdData = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  > * {\r\n    margin-right: 8px;\r\n  }\r\n`\r\n\r\ninterface PositionListItemProps {\r\n  token0: string\r\n  token1: string\r\n  tokenId: BigNumber\r\n  fee: number\r\n  liquidity: BigNumber\r\n  tickLower: number\r\n  tickUpper: number\r\n}\r\n\r\nexport function getPriceOrderingFromPositionForUI(position?: Position): {\r\n  priceLower?: Price<Token, Token>\r\n  priceUpper?: Price<Token, Token>\r\n  quote?: Token\r\n  base?: Token\r\n} {\r\n  if (!position) {\r\n    return {}\r\n  }\r\n\r\n  const token0 = position.amount0.currency\r\n  const token1 = position.amount1.currency\r\n\r\n  // if token0 is a dollar-stable asset, set it as the quote token\r\n  const stables = [DAI, USDC_MAINNET, USDT]\r\n  if (stables.some((stable) => stable.equals(token0))) {\r\n    return {\r\n      priceLower: position.token0PriceUpper.invert(),\r\n      priceUpper: position.token0PriceLower.invert(),\r\n      quote: token0,\r\n      base: token1,\r\n    }\r\n  }\r\n\r\n  // if token1 is an ETH-/BTC-stable asset, set it as the base token\r\n  const bases = [...Object.values(WRAPPED_NATIVE_CURRENCY), WBTC]\r\n  if (bases.some((base) => base && base.equals(token1))) {\r\n    return {\r\n      priceLower: position.token0PriceUpper.invert(),\r\n      priceUpper: position.token0PriceLower.invert(),\r\n      quote: token0,\r\n      base: token1,\r\n    }\r\n  }\r\n\r\n  // if both prices are below 1, invert\r\n  if (position.token0PriceUpper.lessThan(1)) {\r\n    return {\r\n      priceLower: position.token0PriceUpper.invert(),\r\n      priceUpper: position.token0PriceLower.invert(),\r\n      quote: token0,\r\n      base: token1,\r\n    }\r\n  }\r\n\r\n  // otherwise, just return the default\r\n  return {\r\n    priceLower: position.token0PriceLower,\r\n    priceUpper: position.token0PriceUpper,\r\n    quote: token1,\r\n    base: token0,\r\n  }\r\n}\r\n\r\nexport default function PositionListItem({\r\n  token0: token0Address,\r\n  token1: token1Address,\r\n  tokenId,\r\n  fee: feeAmount,\r\n  liquidity,\r\n  tickLower,\r\n  tickUpper,\r\n}: PositionListItemProps) {\r\n  const { formatDelta, formatTickPrice } = useFormatter()\r\n\r\n  const token0 = useToken(token0Address)\r\n  const token1 = useToken(token1Address)\r\n\r\n  const currency0 = token0 ? unwrappedToken(token0) : undefined\r\n  const currency1 = token1 ? unwrappedToken(token1) : undefined\r\n\r\n  // construct Position from details returned\r\n  const [, pool] = usePool(currency0 ?? undefined, currency1 ?? undefined, feeAmount)\r\n\r\n  const position = useMemo(() => {\r\n    if (pool) {\r\n      return new Position({ pool, liquidity: liquidity.toString(), tickLower, tickUpper })\r\n    }\r\n    return undefined\r\n  }, [liquidity, pool, tickLower, tickUpper])\r\n\r\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper)\r\n\r\n  // prices\r\n  const { priceLower, priceUpper, quote, base } = getPriceOrderingFromPositionForUI(position)\r\n\r\n  const currencyQuote = quote && unwrappedToken(quote)\r\n  const currencyBase = base && unwrappedToken(base)\r\n\r\n  // check if price is within range\r\n  const outOfRange: boolean = pool ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper : false\r\n\r\n  const positionSummaryLink = '/pools/' + tokenId\r\n\r\n  const removed = liquidity?.eq(0)\r\n\r\n  return (\r\n    <LinkRow to={positionSummaryLink}>\r\n      <RowBetween>\r\n        <PrimaryPositionIdData>\r\n          <DoubleCurrencyLogo currency0={currencyBase} currency1={currencyQuote} size={18} margin />\r\n          <ThemedText.SubHeader>\r\n            &nbsp;{currencyQuote?.symbol}&nbsp;/&nbsp;{currencyBase?.symbol}\r\n          </ThemedText.SubHeader>\r\n\r\n          <FeeTierText>\r\n            <Trans>{formatDelta(parseFloat(new Percent(feeAmount, 1_000_000).toSignificant()))}</Trans>\r\n          </FeeTierText>\r\n        </PrimaryPositionIdData>\r\n        <RangeBadge removed={removed} inRange={!outOfRange} />\r\n      </RowBetween>\r\n\r\n      {priceLower && priceUpper ? (\r\n        <RangeLineItem>\r\n          <RangeText>\r\n            <ExtentsText>\r\n              <Trans>Min: </Trans>\r\n            </ExtentsText>\r\n            <Trans>\r\n              <span>\r\n                {formatTickPrice({\r\n                  price: priceLower,\r\n                  atLimit: tickAtLimit,\r\n                  direction: Bound.LOWER,\r\n                })}{' '}\r\n              </span>\r\n              <HoverInlineText text={currencyQuote?.symbol} /> per <HoverInlineText text={currencyBase?.symbol ?? ''} />\r\n            </Trans>\r\n          </RangeText>{' '}\r\n          <HideSmall>\r\n            <DoubleArrow>↔</DoubleArrow>{' '}\r\n          </HideSmall>\r\n          <SmallOnly>\r\n            <DoubleArrow>↔</DoubleArrow>{' '}\r\n          </SmallOnly>\r\n          <RangeText>\r\n            <ExtentsText>\r\n              <Trans>Max:</Trans>\r\n            </ExtentsText>\r\n            <Trans>\r\n              <span>\r\n                {formatTickPrice({\r\n                  price: priceUpper,\r\n                  atLimit: tickAtLimit,\r\n                  direction: Bound.UPPER,\r\n                })}{' '}\r\n              </span>\r\n              <HoverInlineText text={currencyQuote?.symbol} /> per{' '}\r\n              <HoverInlineText maxCharacters={10} text={currencyBase?.symbol} />\r\n            </Trans>\r\n          </RangeText>\r\n        </RangeLineItem>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </LinkRow>\r\n  )\r\n}\r\n","import { FeeAmount, nearestUsableTick, TICK_SPACINGS, TickMath } from '@uniswap/v3-sdk'\r\nimport { useMemo } from 'react'\r\nimport { Bound } from 'state/mint/v3/actions'\r\n\r\nexport default function useIsTickAtLimit(\r\n  feeAmount: FeeAmount | undefined,\r\n  tickLower: number | undefined,\r\n  tickUpper: number | undefined\r\n) {\r\n  return useMemo(\r\n    () => ({\r\n      [Bound.LOWER]:\r\n        feeAmount && tickLower\r\n          ? tickLower === nearestUsableTick(TickMath.MIN_TICK, TICK_SPACINGS[feeAmount as FeeAmount])\r\n          : undefined,\r\n      [Bound.UPPER]:\r\n        feeAmount && tickUpper\r\n          ? tickUpper === nearestUsableTick(TickMath.MAX_TICK, TICK_SPACINGS[feeAmount as FeeAmount])\r\n          : undefined,\r\n    }),\r\n    [feeAmount, tickLower, tickUpper]\r\n  )\r\n}\r\n","import { Interface } from '@ethersproject/abi'\r\nimport { BigintIsh, Currency, Token, V3_CORE_FACTORY_ADDRESSES } from '@uniswap/sdk-core'\r\nimport IUniswapV3PoolStateJSON from '@uniswap/v3-core/artifacts/contracts/interfaces/pool/IUniswapV3PoolState.sol/IUniswapV3PoolState.json'\r\nimport { computePoolAddress } from '@uniswap/v3-sdk'\r\nimport { FeeAmount, Pool } from '@uniswap/v3-sdk'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport JSBI from 'jsbi'\r\nimport { useMultipleContractSingleData } from 'lib/hooks/multicall'\r\nimport { useMemo } from 'react'\r\n\r\nimport { IUniswapV3PoolStateInterface } from '../types/v3/IUniswapV3PoolState'\r\n\r\nconst POOL_STATE_INTERFACE = new Interface(IUniswapV3PoolStateJSON.abi) as IUniswapV3PoolStateInterface\r\n\r\n// Classes are expensive to instantiate, so this caches the recently instantiated pools.\r\n// This avoids re-instantiating pools as the other pools in the same request are loaded.\r\nclass PoolCache {\r\n  // Evict after 128 entries. Empirically, a swap uses 64 entries.\r\n  private static MAX_ENTRIES = 128\r\n\r\n  // These are FIFOs, using unshift/pop. This makes recent entries faster to find.\r\n  private static pools: Pool[] = []\r\n  private static addresses: { key: string; address: string }[] = []\r\n\r\n  static getPoolAddress(factoryAddress: string, tokenA: Token, tokenB: Token, fee: FeeAmount): string {\r\n    if (this.addresses.length > this.MAX_ENTRIES) {\r\n      this.addresses = this.addresses.slice(0, this.MAX_ENTRIES / 2)\r\n    }\r\n\r\n    const { address: addressA } = tokenA\r\n    const { address: addressB } = tokenB\r\n    const key = `${factoryAddress}:${addressA}:${addressB}:${fee.toString()}`\r\n    const found = this.addresses.find((address) => address.key === key)\r\n    if (found) return found.address\r\n\r\n    const address = {\r\n      key,\r\n      address: computePoolAddress({\r\n        factoryAddress,\r\n        tokenA,\r\n        tokenB,\r\n        fee,\r\n      }),\r\n    }\r\n    this.addresses.unshift(address)\r\n    return address.address\r\n  }\r\n\r\n  static getPool(\r\n    tokenA: Token,\r\n    tokenB: Token,\r\n    fee: FeeAmount,\r\n    sqrtPriceX96: BigintIsh,\r\n    liquidity: BigintIsh,\r\n    tick: number\r\n  ): Pool {\r\n    if (this.pools.length > this.MAX_ENTRIES) {\r\n      this.pools = this.pools.slice(0, this.MAX_ENTRIES / 2)\r\n    }\r\n\r\n    const found = this.pools.find(\r\n      (pool) =>\r\n        pool.token0 === tokenA &&\r\n        pool.token1 === tokenB &&\r\n        pool.fee === fee &&\r\n        JSBI.EQ(pool.sqrtRatioX96, sqrtPriceX96) &&\r\n        JSBI.EQ(pool.liquidity, liquidity) &&\r\n        pool.tickCurrent === tick\r\n    )\r\n    if (found) return found\r\n\r\n    const pool = new Pool(tokenA, tokenB, fee, sqrtPriceX96, liquidity, tick)\r\n    this.pools.unshift(pool)\r\n    return pool\r\n  }\r\n}\r\n\r\nexport enum PoolState {\r\n  LOADING,\r\n  NOT_EXISTS,\r\n  EXISTS,\r\n  INVALID,\r\n}\r\n\r\nexport function usePools(\r\n  poolKeys: [Currency | undefined, Currency | undefined, FeeAmount | undefined][]\r\n): [PoolState, Pool | null][] {\r\n  const { chainId } = useWeb3React()\r\n\r\n  const poolTokens: ([Token, Token, FeeAmount] | undefined)[] = useMemo(() => {\r\n    if (!chainId) return new Array(poolKeys.length)\r\n\r\n    return poolKeys.map(([currencyA, currencyB, feeAmount]) => {\r\n      if (currencyA && currencyB && feeAmount) {\r\n        const tokenA = currencyA.wrapped\r\n        const tokenB = currencyB.wrapped\r\n        if (tokenA.equals(tokenB)) return undefined\r\n\r\n        return tokenA.sortsBefore(tokenB) ? [tokenA, tokenB, feeAmount] : [tokenB, tokenA, feeAmount]\r\n      }\r\n      return undefined\r\n    })\r\n  }, [chainId, poolKeys])\r\n\r\n  const poolAddresses: (string | undefined)[] = useMemo(() => {\r\n    const v3CoreFactoryAddress = chainId && V3_CORE_FACTORY_ADDRESSES[chainId]\r\n    if (!v3CoreFactoryAddress) return new Array(poolTokens.length)\r\n\r\n    return poolTokens.map((value) => value && PoolCache.getPoolAddress(v3CoreFactoryAddress, ...value))\r\n  }, [chainId, poolTokens])\r\n\r\n  const slot0s = useMultipleContractSingleData(poolAddresses, POOL_STATE_INTERFACE, 'slot0')\r\n  const liquidities = useMultipleContractSingleData(poolAddresses, POOL_STATE_INTERFACE, 'liquidity')\r\n\r\n  return useMemo(() => {\r\n    return poolKeys.map((_key, index) => {\r\n      const tokens = poolTokens[index]\r\n      if (!tokens) return [PoolState.INVALID, null]\r\n      const [token0, token1, fee] = tokens\r\n\r\n      if (!slot0s[index]) return [PoolState.INVALID, null]\r\n      const { result: slot0, loading: slot0Loading, valid: slot0Valid } = slot0s[index]\r\n\r\n      if (!liquidities[index]) return [PoolState.INVALID, null]\r\n      const { result: liquidity, loading: liquidityLoading, valid: liquidityValid } = liquidities[index]\r\n\r\n      if (!tokens || !slot0Valid || !liquidityValid) return [PoolState.INVALID, null]\r\n      if (slot0Loading || liquidityLoading) return [PoolState.LOADING, null]\r\n      if (!slot0 || !liquidity) return [PoolState.NOT_EXISTS, null]\r\n      if (!slot0.sqrtPriceX96 || slot0.sqrtPriceX96.eq(0)) return [PoolState.NOT_EXISTS, null]\r\n\r\n      try {\r\n        const pool = PoolCache.getPool(token0, token1, fee, slot0.sqrtPriceX96, liquidity[0], slot0.tick)\r\n        return [PoolState.EXISTS, pool]\r\n      } catch (error) {\r\n        console.error('Error when constructing the pool', error)\r\n        return [PoolState.NOT_EXISTS, null]\r\n      }\r\n    })\r\n  }, [liquidities, poolKeys, slot0s, poolTokens])\r\n}\r\n\r\nexport function usePool(\r\n  currencyA: Currency | undefined,\r\n  currencyB: Currency | undefined,\r\n  feeAmount: FeeAmount | undefined\r\n): [PoolState, Pool | null] {\r\n  const poolKeys: [Currency | undefined, Currency | undefined, FeeAmount | undefined][] = useMemo(\r\n    () => [[currencyA, currencyB, feeAmount]],\r\n    [currencyA, currencyB, feeAmount]\r\n  )\r\n\r\n  return usePools(poolKeys)[0]\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { CallStateResult, useSingleCallResult, useSingleContractMultipleData } from 'lib/hooks/multicall'\r\nimport { useMemo } from 'react'\r\nimport { PositionDetails } from 'types/position'\r\n\r\nimport { useV3NFTPositionManagerContract } from './useContract'\r\n\r\ninterface UseV3PositionsResults {\r\n  loading: boolean\r\n  positions?: PositionDetails[]\r\n}\r\n\r\nfunction useV3PositionsFromTokenIds(tokenIds: BigNumber[] | undefined): UseV3PositionsResults {\r\n  const positionManager = useV3NFTPositionManagerContract()\r\n  const inputs = useMemo(() => (tokenIds ? tokenIds.map((tokenId) => [BigNumber.from(tokenId)]) : []), [tokenIds])\r\n  const results = useSingleContractMultipleData(positionManager, 'positions', inputs)\r\n\r\n  const loading = useMemo(() => results.some(({ loading }) => loading), [results])\r\n  const error = useMemo(() => results.some(({ error }) => error), [results])\r\n\r\n  const positions = useMemo(() => {\r\n    if (!loading && !error && tokenIds) {\r\n      return results.map((call, i) => {\r\n        const tokenId = tokenIds[i]\r\n        const result = call.result as CallStateResult\r\n        return {\r\n          tokenId,\r\n          fee: result.fee,\r\n          feeGrowthInside0LastX128: result.feeGrowthInside0LastX128,\r\n          feeGrowthInside1LastX128: result.feeGrowthInside1LastX128,\r\n          liquidity: result.liquidity,\r\n          nonce: result.nonce,\r\n          operator: result.operator,\r\n          tickLower: result.tickLower,\r\n          tickUpper: result.tickUpper,\r\n          token0: result.token0,\r\n          token1: result.token1,\r\n          tokensOwed0: result.tokensOwed0,\r\n          tokensOwed1: result.tokensOwed1,\r\n        }\r\n      })\r\n    }\r\n    return undefined\r\n  }, [loading, error, results, tokenIds])\r\n\r\n  return {\r\n    loading,\r\n    positions: positions?.map((position, i) => ({ ...position, tokenId: inputs[i][0] })),\r\n  }\r\n}\r\n\r\ninterface UseV3PositionResults {\r\n  loading: boolean\r\n  position?: PositionDetails\r\n}\r\n\r\nexport function useV3PositionFromTokenId(tokenId: BigNumber | undefined): UseV3PositionResults {\r\n  const position = useV3PositionsFromTokenIds(tokenId ? [tokenId] : undefined)\r\n  return {\r\n    loading: position.loading,\r\n    position: position.positions?.[0],\r\n  }\r\n}\r\n\r\nexport function useV3Positions(account: string | null | undefined): UseV3PositionsResults {\r\n  const positionManager = useV3NFTPositionManagerContract()\r\n\r\n  const { loading: balanceLoading, result: balanceResult } = useSingleCallResult(positionManager, 'balanceOf', [\r\n    account ?? undefined,\r\n  ])\r\n\r\n  // we don't expect any account balance to ever exceed the bounds of max safe int\r\n  const accountBalance: number | undefined = balanceResult?.[0]?.toNumber()\r\n\r\n  const tokenIdsArgs = useMemo(() => {\r\n    if (accountBalance && account) {\r\n      const tokenRequests = []\r\n      for (let i = 0; i < accountBalance; i++) {\r\n        tokenRequests.push([account, i])\r\n      }\r\n      return tokenRequests\r\n    }\r\n    return []\r\n  }, [account, accountBalance])\r\n\r\n  const tokenIdResults = useSingleContractMultipleData(positionManager, 'tokenOfOwnerByIndex', tokenIdsArgs)\r\n  const someTokenIdsLoading = useMemo(() => tokenIdResults.some(({ loading }) => loading), [tokenIdResults])\r\n\r\n  const tokenIds = useMemo(() => {\r\n    if (account) {\r\n      return tokenIdResults\r\n        .map(({ result }) => result)\r\n        .filter((result): result is CallStateResult => !!result)\r\n        .map((result) => BigNumber.from(result[0]))\r\n    }\r\n    return []\r\n  }, [account, tokenIdResults])\r\n\r\n  const { positions, loading: positionsLoading } = useV3PositionsFromTokenIds(tokenIds)\r\n\r\n  return {\r\n    loading: someTokenIdsLoading || balanceLoading || positionsLoading,\r\n    positions,\r\n  }\r\n}\r\n","import { LoadingRows as BaseLoadingRows } from 'components/Loader/styled'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n  padding: 20px;\r\n`\r\n\r\nexport const ClickableText = styled(Text)`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  color: ${({ theme }) => theme.accent1};\r\n`\r\nexport const MaxButton = styled.button<{ width: string }>`\r\n  padding: 0.5rem 1rem;\r\n  background-color: ${({ theme }) => theme.accent2};\r\n  border: 1px solid ${({ theme }) => theme.accent2};\r\n  border-radius: 0.5rem;\r\n  font-size: 1rem;\r\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\r\n    padding: 0.25rem 0.5rem;\r\n  `};\r\n  font-weight: 535;\r\n  cursor: pointer;\r\n  margin: 0.25rem;\r\n  overflow: hidden;\r\n  color: ${({ theme }) => theme.accent1};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => theme.accent1};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.accent1};\r\n    outline: none;\r\n  }\r\n`\r\n\r\nexport const Dots = styled.span`\r\n  &::after {\r\n    display: inline-block;\r\n    animation: ellipsis 1.25s infinite;\r\n    content: '.';\r\n    width: 1em;\r\n    text-align: left;\r\n  }\r\n  @keyframes ellipsis {\r\n    0% {\r\n      content: '.';\r\n    }\r\n    33% {\r\n      content: '..';\r\n    }\r\n    66% {\r\n      content: '...';\r\n    }\r\n  }\r\n`\r\n\r\nexport const LoadingRows = styled(BaseLoadingRows)`\r\n  padding-top: 36px;\r\n  min-width: 75%;\r\n  max-width: 960px;\r\n  grid-column-gap: 0.5em;\r\n  grid-row-gap: 0.8em;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  padding: 8px;\r\n\r\n  & > div:nth-child(4n + 1) {\r\n    grid-column: 1 / 3;\r\n  }\r\n  & > div:nth-child(4n) {\r\n    grid-column: 3 / 4;\r\n    margin-bottom: 2em;\r\n  }\r\n`\r\n","import { Currency } from '@uniswap/sdk-core'\r\nimport { asSupportedChain } from 'constants/chains'\r\n\r\nimport { nativeOnChain, WRAPPED_NATIVE_CURRENCY } from '../constants/tokens'\r\n\r\nexport function unwrappedToken(currency: Currency): Currency {\r\n  if (currency.isNative) return currency\r\n  const formattedChainId = asSupportedChain(currency.chainId)\r\n  if (formattedChainId && WRAPPED_NATIVE_CURRENCY[formattedChainId]?.equals(currency))\r\n    return nativeOnChain(currency.chainId)\r\n  return currency\r\n}\r\n"],"names":["BadgeWrapper","styled","div","BadgeText","ActiveDot","span","theme","success","LabelText","color","RangeBadge","removed","inRange","useTheme","MouseoverTooltip","text","neutral2","Slash","width","height","deprecated_accentWarning","AlertTriangle","TextWrapper","margin","fontSize","adjustSize","maxCharacters","textColor","link","rest","showHover","setShowHover","useState","length","Tooltip","show","onMouseEnter","onMouseLeave","slice","LinkRow","Link","neutral1","deprecated_hoverDefault","MEDIA_WIDTHS","deprecated_upToSmall","deprecated_mediaWidth","DataLineItem","RangeLineItem","DoubleArrow","RangeText","ThemedText","BodySmall","FeeTierText","UtilityBadge","neutral3","ExtentsText","PrimaryPositionIdData","getPriceOrderingFromPositionForUI","position","token0","amount0","currency","token1","amount1","DAI","USDC_MAINNET","USDT","some","stable","equals","priceLower","token0PriceUpper","invert","priceUpper","token0PriceLower","quote","base","Object","values","WRAPPED_NATIVE_CURRENCY","WBTC","lessThan","PositionListItem","token0Address","token1Address","tokenId","fee","feeAmount","liquidity","tickLower","tickUpper","formatDelta","formatTickPrice","useFormatter","useToken","currency0","unwrappedToken","undefined","currency1","pool","usePool","useMemo","Position","toString","tickAtLimit","useIsTickAtLimit","currencyQuote","currencyBase","outOfRange","tickCurrent","positionSummaryLink","eq","to","RowBetween","DoubleCurrencyLogo","size","SubHeader","symbol","parseFloat","Percent","toSignificant","price","atLimit","direction","Bound","LOWER","HoverInlineText","HideSmall","SmallOnly","UPPER","Loader","nearestUsableTick","TickMath","MIN_TICK","TICK_SPACINGS","MAX_TICK","POOL_STATE_INTERFACE","Interface","IUniswapV3PoolStateJSON","getPoolAddress","factoryAddress","tokenA","tokenB","this","addresses","MAX_ENTRIES","address","addressA","addressB","key","found","find","computePoolAddress","unshift","getPool","sqrtPriceX96","tick","pools","JSBI","sqrtRatioX96","Pool","usePools","poolKeys","chainId","useWeb3React","poolTokens","map","currencyA","currencyB","wrapped","sortsBefore","Array","poolAddresses","v3CoreFactoryAddress","V3_CORE_FACTORY_ADDRESSES","value","PoolCache","slot0s","useMultipleContractSingleData","liquidities","_key","index","tokens","PoolState","INVALID","result","slot0","loading","slot0Loading","valid","slot0Valid","liquidityLoading","liquidityValid","LOADING","NOT_EXISTS","EXISTS","error","console","useV3PositionsFromTokenIds","tokenIds","positionManager","useV3NFTPositionManagerContract","inputs","BigNumber","from","results","useSingleContractMultipleData","positions","call","i","feeGrowthInside0LastX128","feeGrowthInside1LastX128","nonce","operator","tokensOwed0","tokensOwed1","useV3PositionFromTokenId","useV3Positions","account","balanceLoading","balanceResult","useSingleCallResult","accountBalance","toNumber","tokenIdsArgs","tokenRequests","push","tokenIdResults","someTokenIdsLoading","filter","positionsLoading","Wrapper","ClickableText","Text","accent1","MaxButton","button","accent2","Dots","LoadingRows","BaseLoadingRows","isNative","formattedChainId","asSupportedChain","nativeOnChain"],"sourceRoot":""}